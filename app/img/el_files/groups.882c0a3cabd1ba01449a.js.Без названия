!function(t){function e(e){for(var o,a,s=e[0],l=e[1],c=e[2],d=0,h=[];d<s.length;d++)a=s[d],n[a]&&h.push(n[a][0]),n[a]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(t[o]=l[o]);for(u&&u(e);h.length;)h.shift()();return r.push.apply(r,c||[]),i()}function i(){for(var t,e=0;e<r.length;e++){for(var i=r[e],o=!0,s=1;s<i.length;s++){var l=i[s];0!==n[l]&&(o=!1)}o&&(r.splice(e--,1),t=a(a.s=i[0]))}return t}var o={},n={"web/groups":0},r=[];function a(e){if(o[e])return o[e].exports;var i=o[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=t,a.c=o,a.d=function(t,e,i){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)a.d(i,o,function(e){return t[e]}.bind(null,o));return i},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="";var s=window.webpackJsonp=window.webpackJsonp||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var u=l;r.push([88,"bundles/audioplayer","bundles/common","bundles/vendors"]),i()}({"+wdc":function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var i=null,o=!1,n=3,r=-1,a=-1,s=!1,l=!1;function c(){if(!s){var t=i.expirationTime;l?C():l=!0,k(h,t)}}function u(){var t=i,e=i.next;if(i===e)i=null;else{var o=i.previous;i=o.next=e,e.previous=o}t.next=t.previous=null,o=t.callback,e=t.expirationTime,t=t.priorityLevel;var r=n,s=a;n=t,a=e;try{var l=o()}finally{n=r,a=s}if("function"==typeof l)if(l={callback:l,priorityLevel:t,expirationTime:e,next:null,previous:null},null===i)i=l.next=l.previous=l;else{o=null,t=i;do{if(t.expirationTime>=e){o=t;break}t=t.next}while(t!==i);null===o?o=i:o===i&&(i=l,c()),(e=o.previous).next=o.previous=l,l.next=o,l.previous=e}}function d(){if(-1===r&&null!==i&&1===i.priorityLevel){s=!0;try{do{u()}while(null!==i&&1===i.priorityLevel)}finally{s=!1,null!==i?c():l=!1}}}function h(t){s=!0;var n=o;o=t;try{if(t)for(;null!==i;){var r=e.unstable_now();if(!(i.expirationTime<=r))break;do{u()}while(null!==i&&i.expirationTime<=r)}else if(null!==i)do{u()}while(null!==i&&!x())}finally{s=!1,o=n,null!==i?c():l=!1,d()}}var p,f,g=Date,_="function"==typeof setTimeout?setTimeout:void 0,w="function"==typeof clearTimeout?clearTimeout:void 0,b="function"==typeof requestAnimationFrame?requestAnimationFrame:void 0,v="function"==typeof cancelAnimationFrame?cancelAnimationFrame:void 0;function m(t){p=b(function(e){w(f),t(e)}),f=_(function(){v(p),t(e.unstable_now())},100)}if("object"==typeof performance&&"function"==typeof performance.now){var y=performance;e.unstable_now=function(){return y.now()}}else e.unstable_now=function(){return g.now()};var k,C,x,O=null;if("undefined"!=typeof window?O=window:void 0!==t&&(O=t),O&&O._schedMock){var B=O._schedMock;k=B[0],C=B[1],x=B[2],e.unstable_now=B[3]}else if("undefined"==typeof window||"function"!=typeof MessageChannel){var T=null,P=function(t){if(null!==T)try{T(t)}finally{T=null}};k=function(t){null!==T?setTimeout(k,0,t):(T=t,setTimeout(P,0,!1))},C=function(){T=null},x=function(){return!1}}else{"undefined"!=typeof console&&("function"!=typeof b&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof v&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"));var A=null,j=!1,D=-1,E=!1,M=!1,N=0,L=33,S=33;x=function(){return N<=e.unstable_now()};var I=new MessageChannel,G=I.port2;I.port1.onmessage=function(){j=!1;var t=A,i=D;A=null,D=-1;var o=e.unstable_now(),n=!1;if(0>=N-o){if(!(-1!==i&&i<=o))return E||(E=!0,m(W)),A=t,void(D=i);n=!0}if(null!==t){M=!0;try{t(n)}finally{M=!1}}};var W=function(t){if(null!==A){m(W);var e=t-N+S;e<S&&L<S?(8>e&&(e=8),S=e<L?L:e):L=e,N=t+S,j||(j=!0,G.postMessage(void 0))}else E=!1};k=function(t,e){A=t,D=e,M||0>e?G.postMessage(void 0):E||(E=!0,m(W))},C=function(){A=null,j=!1,D=-1}}e.unstable_ImmediatePriority=1,e.unstable_UserBlockingPriority=2,e.unstable_NormalPriority=3,e.unstable_IdlePriority=5,e.unstable_LowPriority=4,e.unstable_runWithPriority=function(t,i){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var o=n,a=r;n=t,r=e.unstable_now();try{return i()}finally{n=o,r=a,d()}},e.unstable_next=function(t){switch(n){case 1:case 2:case 3:var i=3;break;default:i=n}var o=n,a=r;n=i,r=e.unstable_now();try{return t()}finally{n=o,r=a,d()}},e.unstable_scheduleCallback=function(t,o){var a=-1!==r?r:e.unstable_now();if("object"==typeof o&&null!==o&&"number"==typeof o.timeout)o=a+o.timeout;else switch(n){case 1:o=a+-1;break;case 2:o=a+250;break;case 5:o=a+1073741823;break;case 4:o=a+1e4;break;default:o=a+5e3}if(t={callback:t,priorityLevel:n,expirationTime:o,next:null,previous:null},null===i)i=t.next=t.previous=t,c();else{a=null;var s=i;do{if(s.expirationTime>o){a=s;break}s=s.next}while(s!==i);null===a?a=i:a===i&&(i=t,c()),(o=a.previous).next=a.previous=t,t.next=a,t.previous=o}return t},e.unstable_cancelCallback=function(t){var e=t.next;if(null!==e){if(e===t)i=null;else{t===i&&(i=e);var o=t.previous;o.next=e,e.previous=o}t.next=t.previous=null}},e.unstable_wrapCallback=function(t){var i=n;return function(){var o=n,a=r;n=i,r=e.unstable_now();try{return t.apply(this,arguments)}finally{n=o,r=a,d()}}},e.unstable_getCurrentPriorityLevel=function(){return n},e.unstable_shouldYield=function(){return!o&&(null!==i&&i.expirationTime<a||x())},e.unstable_continueExecution=function(){null!==i&&c()},e.unstable_pauseExecution=function(){},e.unstable_getFirstCallbackNode=function(){return i}}).call(this,i("yLpj"))},"12ku":function(t,e,i){"use strict";i.d(e,"a",function(){return s});var o=i("zxIV"),n=i("lXE5"),r=i("k3PD"),a=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var i=[],o=!0,n=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(i.push(a.value),!e||i.length!==e);o=!0);}catch(t){n=!0,r=t}finally{try{!o&&s.return&&s.return()}finally{if(n)throw r}}return i}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();var s="onboarding_bg_rect",l=function(){function t(e,i){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.el=e,this.text=i,this.hideDarkness=!0,this.oldColor=!1;var n={autoShow:!1,noAutoHideOnWindowClick:!0,content:""+i,cls:"feature_intro_tt feature_intro_blue_tt tutorial_tip_tt",appendToParent:!0,onHide:this.ttOnHide.bind(this)};o.side&&(n.forceSide=o.side),o.offset&&(n.offset=o.offset),o.width&&(n.width=o.width),o.shift&&(n.centerShift=o.shift),o.border?this.border=o.border:this.border=[10,10,10,10],this.ttParams=n,this.opts=o,this.initOnboardingBG()}return t.prototype.initOnboardingBG=function(){var t=this;if(!window.onboardingBG){var e=se('\n<div id="onboarding_layout">\n  <svg id="onboarding_bg_header" width="100%" height="42px">\n    <rect id="onboarding_bg_rect" x="0" y="0" width="100%" height="100%" fill-opacity="0.8" fill="#000"></rect>\n  </svg>\n  <svg id="onboarding_bg" width="100%" height="100%">\n  <defs>\n    <mask id="mask" x="0" y="0" width="100%" height="100%">\n      <rect x="0" y="0" width="100%" height="100%" fill="#fff"></rect>\n      <rect id="onboarding_bg_clip" x="0" y="0" width="0" height="0" fill="#000" rx="8" ry="8"></rect>\n    </mask>\n  </defs>\n  <rect id="onboarding_bg_rect" x="0" y="42" width="100%" height="100%" mask="url(#mask)" fill-opacity="0.8"></rect>\n  </svg>\n</div>\n      ');Object(o.w)(e,window.layerBG),window.onboardingBGHeader=ge("onboarding_bg_header"),window.onboardingBG=ge("onboarding_bg"),window.onboardingBGRect=ge(s),window.onboardingBGClip=ge("onboarding_bg_clip"),window.cur.destroy.push(function(){hide(window.onboardingBG),hide(window.onboardingBGHeader),removeClass(ge("page_header_cont"),"onboarding"),t.hideDarkness=!0,t.hideTT(),delete window.onboardingBG,delete window.onboardingBGHeader,delete window.onboardingBGRect,delete window.onboardingBGClip,t.opts.onBGClick&&removeEvent(window.onboardingBG,"click",t.opts.onBGClick)}),this.opts.onBGClick&&addEvent(window.onboardingBG,"click",this.opts.onBGClick)}},t.prototype.showTT=function(){var t=Object(o.Q)(this.el),e=a(t,2)[1];this.tt=new window.ElementTooltip(this.el,this.ttParams),this.opts.highlight&&(this.addDarkness(),this.addHighlight()),this.tt.show();var i=this.tt.getContent();Object(r.a)(this.el)&&Object(r.a)(i)||Object(n.g)(e-42)},t.prototype.hideTT=function(){this.tt&&(this.tt.destroy(),this.removeDarkens(),this.hideDarkness&&(removeEvent(window,"scroll"),removeEvent(window,"resize")))},t.prototype.addHighlight=function(){window.onboardingBGClip&&(this.highlightElement(),addEvent(window,"scroll",this.onScrollTT.bind(this)),addEvent(window,"resize",this.onResizeTT.bind(this)))},t.prototype.highlightElement=function(){var t=this.el.offsetWidth,e=this.el.offsetHeight,i=Object(o.Q)(this.el);attr(window.onboardingBGClip,"width",t+this.border[1]+this.border[3]),attr(window.onboardingBGClip,"height",e+this.border[0]+this.border[2]),attr(window.onboardingBGClip,"x",i[0]-this.border[1]),attr(window.onboardingBGClip,"y",i[1]-this.border[0])},t.prototype.onResizeTT=function(){this.setDartToFullWidth(),this.highlightElement()},t.prototype.onScrollTT=function(){var t=this.getPageHeight();window.onboardingBG.height!=t&&this.setDartToFullHeight()},t.prototype.setDartToFullHeight=function(){attr(window.onboardingBG,"height",this.getPageHeight())},t.prototype.setDartToFullWidth=function(){attr(window.onboardingBG,"width",this.getPageWidth()),attr(window.onboardingBGHeader,"width",this.getPageWidth())},t.prototype.addDarkness=function(){Object(o.ab)(window.onboardingBG)||(this.setDartToFullHeight(),this.setDartToFullWidth(),show(window.onboardingBG),Object(o.ab)(window.onboardingBGHeader)||(show(window.onboardingBGHeader),addClass(ge("page_header_cont"),"onboarding")))},t.prototype.removeDarkens=function(){this.hideDarkness&&(hide(window.onboardingBG),hide(window.onboardingBGHeader),removeClass(ge("page_header_cont"),"onboarding"))},t.prototype.ttOnHide=function(){this.hideTT()},t.prototype.show=function(){setTimeout(this.showTT.bind(this),1e3)},t.prototype.getPageWidth=function(){var t=document.documentElement,e=document.body;return Math.max(e.scrollWidth,t.scrollWidth,e.offsetWidth,t.offsetWidth,e.clientWidth,t.clientWidth)},t.prototype.getPageHeight=function(){var t=document.documentElement,e=document.body;return Math.max(e.scrollHeight,t.scrollHeight,e.offsetHeight,t.offsetHeight,e.clientHeight,t.clientHeight)},t}();e.b=l},"16Al":function(t,e,i){"use strict";var o=i("ohE5"),n=i("2NuI"),r=i("WbBG");t.exports=function(){function t(t,e,i,o,a,s){s!==r&&n(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function e(){return t}t.isRequired=t;var i={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e};return i.checkPropTypes=o,i.PropTypes=i,i}},"17x9":function(t,e,i){t.exports=i("16Al")()},"6raB":function(t,e,i){"use strict";var o=i("q1tI"),n=(i("17x9"),i("pemR")),r=i("KFTi"),a=i("Hx9h"),s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o])}return t};var l=function(t){function e(i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,i));return o.needRecalcSize=!1,o.state={},o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.render=function(){var t=this.props,e=t.className,i=t.loading,l=t.children,c=function(t,e){var i={};for(var o in t)e.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(t,o)&&(i[o]=t[o]);return i}(t,["className","loading","children"]),u=Object(n.a)("ButtonWithProgress",{"ButtonWithProgress--loading":i},e);return o.createElement(a.a,s({},c,{className:u}),o.createElement("span",{className:"ButtonWithProgress__content"},l),i&&o.createElement(r.a,{inverted:"primary"===t.appearance,className:"ButtonWithProgress__progress"}))},e}(o.Component);e.a=l,l.defaultProps={appearance:"primary",size:"m",wide:!1,loading:!1}},88:function(t,e,i){t.exports=i("wJJB")},CQka:function(t,e,i){"use strict";i.d(e,"a",function(){return r});var o=i("Egk5"),n=i("zxIV");function r(){setTimeout(function(){var t=Object(n.B)("a[data-group-track-type='link']",ge("page_body"));Object.keys(t).forEach(function(e){var i=t[e];Object(o.b)(i,"click",a),cur.destroy.push(o.h.pbind(i,"click"))})},3e3)}function a(t){var e=t.target;if(!e)return!0;if(linkLocked(e))return!0;var i=Object(n.s)(e,"group-track-code"),o=Object(n.s)(e,"group-track-type");if(!i||!o)return!0;var r={act:"track",group_id:-cur.oid,track_code:i,type:o};return ajax.post("al_groups.php",r,{onDone:function(){unlockLink(e)}}),!0}},D1OX:function(t,e,i){"use strict";i.d(e,"b",function(){return a}),i.d(e,"a",function(){return s});var o=window.isNumeric,n={},r=0;function a(t){var e=domData(ge(t),"gallery-id");return e&&n[e]}var s=function(){function t(e,i){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!e)throw new Error("No element was provided for UIGallery");if(e=ge(e),!hasClass(e,"ui_gallery"))throw new Error("Provided incorrect element for UIGallery");var o=a(e);if(o)return o;this._opts=extend({markOutside:!1,scrollY:!0,scrollX:!0,noArrows:!1},i),this._id=++r,this._el=e,this._width=getSize(this._el)[0],this._items=geByClass("ui_gallery_item",this._el),this._itemWidth=getSize(this._items[0])[0],this._itemOffset=intval(getStyle(this._items[0],vk.rtl?"marginLeft":"marginRight")),this._scrollOffset=intval(getStyle(this._items[0],"marginLeft")),this._itemFullWidth=this._itemWidth+this._itemOffset,this._innerCont=geByClass1("ui_gallery__inner_cont",this._el),this._inner=geByClass1("ui_gallery__inner",this._el),this._scroll=function(){var t={rtl:!1,backward:!1,delta:1,negative:!1,rtlSame:!1};if(!vk.rtl)return t;if(!cur._scrollInfo){var e=se('<div style="position: fixed; left: -1000; width: 0; overflow: scroll">x</div>');ge("content").appendChild(e);var i=e.scrollLeft;t.rtl=vk.rtl,t.backward=i>0,e.scrollLeft=1e3,t.delta=e.scrollLeft===i?-1:1,t.negative=!t.backward&&t.delta<0,t.rtlSame=t.rtl&&!t.backward&&!t.negative,re(e),cur._scrollInfo=t}return cur._scrollInfo}(),this._loadingMore=!1,this._finised=!1,this._visible={left:-1,right:-1,items:[]},this._outside={left:-1,right:-1,timer:null},this._initScroll(),this._initArrows(),domData(this._el,"gallery-id",this._id),n[this._id]=this,this._checkItemsAfterScroll(this._innerCont.scrollLeft,!0)}return t.prototype._initScroll=function(){(this._opts.scrollX||this._opts.scrollY)&&addEvent(this._innerCont,"DOMMouseScroll wheel",this._onWheelScroll.bind(this))},t.prototype._initArrows=function(){this._opts.noArrows?addClass(this._el,"ui_gallery_no_arrows"):(this._leftArrow=geByClass1("ui_gallery__arrow_left",this._el),this._rightArrow=geByClass1("ui_gallery__arrow_right",this._el),this._arrowWidth=getSize(this._leftArrow)[0],addEvent(this._leftArrow,"click",this._onArrowScroll.bind(this,-1)),addEvent(this._leftArrow,"mouseover",this._onArrowMouseOver.bind(this,"left")),addEvent(this._leftArrow,"mouseout",this._onArrowMouseOut.bind(this)),addEvent(this._rightArrow,"click",this._onArrowScroll.bind(this,1)),addEvent(this._rightArrow,"mouseover",this._onArrowMouseOver.bind(this,"right")),addEvent(this._rightArrow,"mouseout",this._onArrowMouseOut.bind(this)))},t.prototype._onWheelScroll=function(t){if(this._opts.scrollX||this._opts.scrollY){var e=void 0;if("wheel"==t.type)if(Math.abs(t.deltaY)>Math.abs(t.deltaX)){if(!this._opts.scrollY)return;e=-t.deltaY}else{if(!this._opts.scrollX)return;e=-t.deltaX}else if(void 0!==t.wheelDeltaY){if(!this._opts.scrollY)return;e=t.wheelDeltaY}else if(void 0!==t.wheelDelta)e=t.wheelDelta;else{if(!t.detail||1!==t.axis)return;e=-t.detail}e=this._scroll.rtlSame?-e:e,Math.abs(e)>=120&&(e=74*Math.max(-1,Math.min(1,e))),this._innerCont.scrollLeft-=e,this._checkItemsAfterScroll(this._innerCont.scrollLeft),cancelEvent(t)}},t.prototype._onArrowScroll=function(t,e){var i=this;if(!this._opts.noArrows){var o=this._innerCont.scrollLeft+(this._scroll.rtlSame?-t:t)*(this._width-2*this._arrowWidth),n=this._innerCont.scrollWidth-this._width;this._scroll.negative?(o=Math.min(o,0),o=Math.abs(o)):o=Math.max(0,o),o=Math.min(n,o);var r=this._scroll.negative||this._scroll.rtlSame?-t:t;if(r>0&&o<n)o=Math.floor(o/this._itemFullWidth)*this._itemFullWidth;else if(r<0&&o>0){o=Math.floor(o/this._itemFullWidth)*this._itemFullWidth}if(0===o||o===n){var a=this._innerCont.scrollWidth;addClass(this._inner,"ui_gallery__inner_shift_instant"),this._onArrowMouseOut(),o&&(o+=t*(this._innerCont.scrollWidth-a))}this._scroll.negative&&(o=-o),animate(this._innerCont,{scrollLeft:o},{duration:Math.abs(this._innerCont.scrollLeft-o)+50,transition:Fx.Transitions.easeOutCubic}),this._checkItemsAfterScroll(o),setTimeout(function(){return removeClass(i._inner,"ui_gallery__inner_shift_instant")},0),cancelEvent(e)}},t.prototype._checkItemsAfterScroll=function(t,e){if(this._scroll.negative&&(t=Math.abs(t)),this._opts.markOutside||this._opts.onViewItem){var i=this._itemWidth/3,o=(this._scroll.backward?this._inner.scrollWidth-this._width-t:t)-this._scrollOffset,n=t&&Math.floor(o/this._itemFullWidth),r=n*this._itemFullWidth+2*i,a=void 0;a=this._scroll.backward?t+this._width<this._inner.scrollWidth-r:t>r;var s=Math.min(this._items.length-1,Math.floor((o+this._width)/this._itemFullWidth)),l=s*this._itemFullWidth+2*i,c=void 0;if(c=this._scroll.backward?t>this._inner.scrollWidth-l:t+this._width<l,this._opts.onViewItem){var u=a?Math.min(this._items.length-1,n+1):n,d=c?Math.max(0,s-1):s;if(e||u!==this._visible.left||d!==this._visible.right){for(var h=u;h<=d;h++)(this._visible.left<0||e&&!inArray(this._items[h],this._visible.items)||h<this._visible.left||h>this._visible.right)&&this._opts.onViewItem(this._items[h],h);this._visible.left=u,this._visible.right=d,this._visible.items=this._items.slice(u,d+1)}}this._opts.markOutside&&(e?(geByClass("ui_gallery_item_outside",this._inner).forEach(function(t){removeClass(t,"ui_gallery_item_outside")}),this._outside.left=-1,this._outside.right=-1):((n!==this._outside.left||!a)&&this._outside.left>=0&&(removeClass(this._items[this._outside.left],"ui_gallery_item_outside"),this._outside.left=-1),(s!==this._outside.right||!c)&&this._outside.right>=0&&(removeClass(this._items[this._outside.right],"ui_gallery_item_outside"),this._outside.right=-1)),a&&n!==this._outside.left&&(addClass(this._items[n],"ui_gallery_item_outside"),this._outside.left=n),c&&s!==this._outside.right&&(addClass(this._items[s],"ui_gallery_item_outside"),this._outside.right=s))}if(!this._opts.noArrows){var p=t>0,f=t+this._width<this._inner.scrollWidth;toggleClass(this._leftArrow,"ui_gallery__arrow_visible",this._scroll.rtl&&!this._scroll.backward?f:p),toggleClass(this._rightArrow,"ui_gallery__arrow_visible",this._scroll.rtl&&!this._scroll.backward?p:f)}(!this._scroll.backward&&this._inner.scrollWidth-t-this._width<1e3||this._scroll.backward&&t<1e3)&&this._onLoadMore()},t.prototype._onArrowMouseOver=function(t){this._opts.noArrows||addClass(this._inner,"ui_gallery__inner_shift_"+t)},t.prototype._onArrowMouseOut=function(){this._opts.noArrows||(removeClass(this._inner,"ui_gallery__inner_shift_left"),removeClass(this._inner,"ui_gallery__inner_shift_right"))},t.prototype._onLoadMore=function(){!this._opts.onLoadMore||this._loadingMore||this._finised||(this._loadingMore=!0,this._opts.onLoadMore(this._items.length))},t.prototype.addMore=function(t,e){t=t||[],this.addItems(t),this._finised=!!e||!t.length,this._loadingMore=!1},t.prototype.addItems=function(t,e){var i=this;if((t=t||[]).length){var o=e>=0&&e<this._items.length?this._items[e]:null;t.forEach(function(t){o?domInsertBefore(t,o):i._inner.appendChild(t)}),this.refresh()}},t.prototype.destroy=function(){removeEvent(this._innerCont),removeEvent(this._leftArrow),removeEvent(this._rightArrow),domData(this._el,"gallery-id",null),delete n[this._id],this._opts.onDestroy&&this._opts.onDestroy(),re(this._el)},t.prototype.removeItem=function(t){return o(t)&&(t=this._items[t]),!(!t||!inArray(t,this._items))&&(re(t),this.refresh(),this._items.length||this.destroy(),!0)},t.prototype.refresh=function(){this._width=getSize(this._el)[0],this._items=geByClass("ui_gallery_item",this._el),this._checkItemsAfterScroll(this._innerCont.scrollLeft,!0)},t.prototype.getItems=function(){return this._items},t.prototype.getVisibleItems=function(){var t=this;return this._visible.items.map(function(e,i){return[e,t._visible.left+i]})},t}()},Hx9h:function(t,e,i){"use strict";var o=i("q1tI"),n=(i("17x9"),i("pemR")),r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o])}return t};var a=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.render=function(){var t=this.props,e=t.className,i=t.appearance,a=t.wide,s=t.overflow,l=t.size,c=function(t,e){var i={};for(var o in t)e.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(t,o)&&(i[o]=t[o]);return i}(t,["className","appearance","wide","overflow","size"]),u=n.a.apply(void 0,["Button"].concat(function(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}(Array.isArray(i)?i.map(function(t){return"Button--"+t}):["Button--"+i]),["Button--size-"+l,{"Button--wide":!!a,"Button--overflow":!!s,"Button--disabled":!!t.disabled},e]));return o.createElement("button",r({},c,{className:u}),t.children)},e}(o.Component);e.a=a,a.defaultProps={appearance:"primary",size:"m",wide:!1}},KFTi:function(t,e,i){"use strict";i.d(e,"a",function(){return r});var o=i("q1tI"),n=(i("17x9"),i("pemR"));function r(t){var e=Object(n.a)("Progress",{"Progress--inverted":t.inverted},t.className);return o.createElement("div",{className:e},o.createElement("div",{className:"Progress__item"}),o.createElement("div",{className:"Progress__item"}),o.createElement("div",{className:"Progress__item"}))}r.defaultProps={inverted:!1}},QCnb:function(t,e,i){"use strict";t.exports=i("+wdc")},WbBG:function(t,e,i){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},X3vJ:function(t,e,i){"use strict";i.d(e,"a",function(){return C});var o=i("D1OX"),n=i("Egk5"),r=i("XzvV"),a=i("zxIV"),s=i("/PiP"),l=i("Ia1d"),c=i("pp2G"),u=i("XuKo"),d=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var i=[],o=!0,n=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(i.push(a.value),!e||i.length!==e);o=!0);}catch(t){n=!0,r=t}finally{try{!o&&s.return&&s.return()}finally{if(n)throw r}}return i}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),h=1,p=3,f=4,g=5,_=8,w=10,b=16,v=17,m=25,y=26,k=6441755;function C(t){window.onDomReady(function(){var e=ge("group_section_menu_gallery");if(e){var i=Object(a.G)("ui_gallery_item",e),C={markOutside:!0};(!i||i.length<4)&&(C.scrollX=!1,C.scrollY=!1);var x=new o.a(e,C);(x?x.getItems():[]).forEach(function(e){var i=e.firstElementChild;if(i&&(Object(n.b)(i,"click",function(e){var o=i.getAttribute("data-hash"),a=Number(i.getAttribute("data-id")),C=Number(i.getAttribute("data-type")),x=Number(i.getAttribute("data-pos")),O=i.getAttribute("data-object-id");if(o&&a&&C&&O&&(Object(r.d)("groups_menu_item_click",o,t,a,C,x),!Object(n.d)(e))){var B=null;switch(C){case h:var T={w:"wall"+O};(B=i.getAttribute("data-click")?JSON.parse(i.getAttribute("data-click")):{}).reply&&(T.reply=B.reply),Object(s.C)(T,!1,e);break;case g:Object(l.j)(""+O,"",{autoplay:1},e);break;case b:-1===O.indexOf("_")?nav.change({z:"tag"+O},e):nav.change({z:"album"+O},e);break;case f:Object(s.y)(""+O,"",{},e);break;case p:Object(s.C)({w:"product"+O,from:"group_module"},!1,e,{queue:1});break;case _:case v:B=i.getAttribute("data-click")?JSON.parse(i.getAttribute("data-click")):{};var P=O.split("_"),A=d(P,2),j=A[0],D=A[1],E=B.access_hash;c.a.showAudioPlaylist(j,D,E,void 0,e);break;case w:var M=O.split("_"),N=d(M,2),L=N[0],S=N[1];if(Number(L)===k)window.Groups.inviteToChat(-Number(S));else if((B=i.getAttribute("data-click")?JSON.parse(i.getAttribute("data-click")):{})&&B.forward){var I=B.forward.split("#");I=I?I[1]?I[1]:I[0]:"",Object(s.C)({w:"app"+O+"#"+I})}else Object(s.C)({w:"app"+O});break;case m:Object(s.A)(null,O);break;case y:Object(u.b)(O,{});break;default:return}Object(n.c)(e)}}),Number(i.getAttribute("data-type"))===w)){var o=i.getAttribute("data-object-id").split("_"),a=d(o,1)[0];Number(a)===k&&Object(n.b)(i,"mouseover",function(){window.Groups.inviteToChatPreload()})}})}})}},dV62:function(t,e,i){"use strict";i.d(e,"c",function(){return n}),i.d(e,"b",function(){return r}),i.d(e,"d",function(){return a}),i.d(e,"a",function(){return s});var o=i("i8i4"),n="react_root";function r(t,e){window.applicationInitFunctions[t]=e}function a(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};window.showFastBox(e),o.render(t,document.querySelector(".box_layout"))}function s(){var t=document.querySelector(".box_layout");t&&o.unmountComponentAtNode(t);var e=window.curBox();e&&e.hide()}window.applicationInitFunctions||(window.applicationInitFunctions={}),window.initReactApplication=function(t){if(!window.applicationInitFunctions[t])throw new Error("Unknown react application to init");window.applicationInitFunctions[t]()}},gVOz:function(t,e,i){"use strict";i.d(e,"a",function(){return u});var o=i("q1tI"),n=(i("17x9"),i("dV62")),r=i("Hx9h"),a=i("kHqu"),s=i("6raB"),l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o])}return t};var c=function(t){function e(i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,i));return n.backButtonRef=o.createRef(),n.clickProceed=function(){n.sendViewSignal(),n.props.onClose()},n.clickBack=function(t){n.setState({isLoading:!0}),window.nav.go(n.backButtonRef.current,t,{back:!0})},n.state={isLoading:!1},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.sendViewSignal=function(){var t=this.props,e={act:"hide_warning_notification",notification_id:t.notification_id,group_id:t.group_id,user_id:t.user_id,hash:t.hash};ajax.post("al_groups.php",e,{})},e.prototype.renderImage=function(){var t="/images/groups/warning_notification";return o.createElement("img",{alt:getLang("groups_warning_notification_web_img_alt"),src:t+".png",srcSet:t+"_2x.png 2x",className:"WarningNotification__image"})},e.prototype.render=function(){var t=this.props,e=this.state,i=this.renderImage();return o.createElement("div",{className:"WarningNotification__box"},i,o.createElement("div",{className:"WarningNotification__title WarningNotification__component--centered",dangerouslySetInnerHTML:{__html:t.title_html}}),o.createElement("div",{className:"WarningNotification__text WarningNotification__component--centered",dangerouslySetInnerHTML:{__html:t.text_html}}),o.createElement(s.a,{loading:e.isLoading,ref:this.backButtonRef,onClick:this.clickBack,className:"WarningNotification__button WarningNotification__button--back WarningNotification__component--centered"},getLang("global_back")),o.createElement(r.a,{onClick:this.clickProceed,appearance:"link",className:"WarningNotification__button WarningNotification__button--proceed WarningNotification__component--centered"},getLang("groups_warning_notification_proceed")))},e}(o.Component);function u(t){var e=function(){Object(n.a)()};cur.zNavInfo&&(e=function(){Object(n.a)(),Object(a.l)(cur.zNavInfo.info,cur.zNavInfo.opts)}),Object(n.d)(o.createElement(c,l({onClose:e},t)),{containerClass:"WarningNotification",width:655,height:538})}},k3PD:function(t,e,i){"use strict";function o(t){var e=t.getBoundingClientRect();return e.top>=0&&e.left>=0&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth)}i.d(e,"a",function(){return o})},pemR:function(t,e,i){"use strict";i.d(e,"a",function(){return n});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function n(){var t=[];return[].concat(Array.prototype.slice.call(arguments)).forEach(function(e){if(e)switch(void 0===e?"undefined":o(e)){case"string":t.push(e);break;case"object":Object.keys(e).forEach(function(i){e[i]&&t.push(i)});break;default:t.push(""+e)}}),t.join(" ")}},wJJB:function(t,e,i){"use strict";i.r(e);var o=i("zxIV"),n=i("v+DW"),r=i("CQka"),a=i("XzvV"),s=i("X3vJ"),l=i("12ku"),c=i("gVOz"),u={init:function(t){extend(cur,{module:"groups",hideOther:u.hideOther,otherActs:u.otherActs,options:t,oid:-t.group_id,postTo:-t.group_id,_back:{loc:t.loc,show:[],hide:[],text:t.back}}),ge("group_wall")&&wall.init(extend(t,{automore:1})),cur.nav.push(function(t){t[0]&&clearTimeout(u.keyTO)}),t.cntKey&&u.subscribe(t.cntKey),t.age_disclaimer&&u.showDisclaimer(t,"group"),t.enableLinkTracking&&Object(r.a)(),t.gwn&&!Array.isArray(t.gwn)&&Object(c.a)(t.gwn),Object(s.a)(t.group_id)},inviteToChat:function(t,e){stManager.add([jsc("web/group_invite_chat.js"),"group_invite_chat.css","indexer.js"],function(){window.showGroupChatInviteBox(t)}),e&&e.preventDefault()},inviteToChatPreload:function(){stManager.add([jsc("web/group_invite_chat.js"),"group_invite_chat.css","indexer.js"],function(){})},showDisclaimer:function(t,e){var i=!1,o=showFastBox({title:getLang("groups_age_warning"),width:470,hideOnBGClick:!1,onHide:function(){i||(t.age_disclaimer_back?history.back():location.href="/")},forceNoBtn:1},'<div class="group_age_disclaimer">'+getLang("groups_age_disclaimer")+'<br><div class="checkbox group_age_checkbox" onclick="checkbox(this); disableButton(curBox().proceedButton, !isChecked(this))"><div></div>'+getLang("groups_age_accepted")+"</div></div>");o.removeButtons();var n=o.addButton(getLang("global_cancel"),o.hide,"no",!0);addClass(n,"group_age_disclaimer_close"),o.proceedButton=o.addButton(getLang("groups_age_approve"),function(){i=!0,removeClass(ge(e),"hidden"),o.hide(),t.age_disclaimer_hash?ajax.post("al_groups.php",{act:"a_set_user_age",hash:t.age_disclaimer_hash}):setCookie("remixage18",1),cur.zNavInfo&&zNav(cur.zNavInfo.info,cur.zNavInfo.opts)},"yes",!0);var r=geByClass1("box_controls",domPN(o.bodyNode));addClass(r,"group_age_disclaimer_box"),replaceClass(domFC(r),"fl_r","fl_l"),disableButton(o.proceedButton,1)},switchTab:function(t,e,i){return!!checkEvent(i)||("wiki"==e&&hasClass(t,"ui_tab_sel")?nav.go(t,i):(ge("page_info_wrap").className="page_info_wrap "+e,uiTabs.switchTab(t)))},toggleFave:function(t,e,i,o){void 0!=cur.toggleFaveAct&&(i=cur.toggleFaveAct),ajax.post("fave.php",{act:i?"a_add_group":"a_delete_group",gid:-cur.oid,hash:e},{onDone:function(e){val(t,e),cur.toggleFaveAct=!i,toggleClass(t,"on")},showProgress:window.Page&&Page.actionsDropdownLock.pbind(t),hideProgress:window.Page&&Page.actionsDropdownUnlock.pbind(t)}),cancelEvent(o)},hideHelpStep:function(t,e,i,o){var n=domClosest("page_block",t);return t&&t.tt&&t.tt.hide&&t.tt.hide({fasthide:!0}),n&&slideUp(n,200,re.pbind(n)),ajax.post("/al_public.php",{act:"a_hide_help_step",pid:e,step:"help_step_advice",hash:i}),o.cancelBubble=!0,cancelEvent(o)},showInviteBox:function(t,e){return!showBox("al_page.php",{act:"a_invite_box",gid:e},{params:{bodyStyle:"padding: 0px;",width:560}},t)},subscribe:function(t){window.Notifier&&Notifier.addKey(t,u.updates),u.keyTO=setTimeout(u.subscribe,3e4)},toggleFeedIgnored:function(t,e,i){ajax.post("al_feed.php",{act:cur.options.ignored_news?"a_unignore_owner":"a_ignore_owner",owner_id:cur.oid,hash:e,from:"group"},{onDone:function(e){val(t,e),cur.options.ignored_news=!cur.options.ignored_news},showProgress:window.Page&&Page.actionsDropdownLock.pbind(t),hideProgress:window.Page&&Page.actionsDropdownUnlock.pbind(t)}),cancelEvent(i)},showLinks:function(){showBox("al_groups.php",{act:"show_links",oid:cur.oid}).setOptions({onHideAttempt:function(){return cur.reloadAfterClose&&(nav.reload({noscroll:!0}),cur.reloadAfterClose=!1),!0}})},createEvent:function(t,e){stManager.add([jsc("web/groups_create.js"),"groups_create.css"],function(){GroupsCreate.showInfoBox("event",{parentId:t,parentHash:e,onSave:function(){cur.reloadAfterClose=!1,curBox()&&curBox().hide(),cur.reloadAfterClose=!0,u.showEvents()}})})},deleteEvent:function(t,e,i){cur.reloadAfterClose=!0,ajax.post("al_public.php",{act:"a_delete_event",pid:t,eid:e,hash:i},{onDone:function(e){window.tooltips&&tooltips.destroyAll(ge("public_event_cell"+t)),curBox().content(e)}})},showEvents:function(){showBox("al_public.php",{act:"a_get_events",pid:cur.options.public_id||-cur.oid}).setOptions({onHideAttempt:function(){return cur.reloadAfterClose&&(nav.reload({noscroll:!0}),cur.reloadAfterClose=!1),!0}})},updateCnt:function(t){t=parseInt(t);var e=ge("page_menu_group_gim");if(e){var i=geByClass1("ui_rmenu_count",e);i&&(i.textContent=t,toggleClass(i,"unshown",0===t))}},updates:function(t,e){each(e.events,function(t,e){var i=e.split("<!>");switch(i[1]){case"update_cnt":u.updateCnt(i[4])}})},updateActions:function(t,e,i){val("page_actions",t);var o=geByClass1("_page_actions_container");o&&e&&domPN(o).replaceChild(se(e),o),void 0!==i&&val("group_moder_info",i)},enter:function(t,e,i,o,n,r){var a=void 0,s=void 0;if(t=ge(t),(r=r||{}).showProgress||r.hideProgress)a=r.showProgress,s=r.hideProgress;else if(hasClass(t,"flat_button"))a=lockButton.pbind(t),s=unlockButton.pbind(t);else{if(t.firstChild&&"progress"===t.firstChild.className)return;a=function(){t.oldhtml=t.innerHTML,t.innerHTML='<span class="progress" style="display: block"></span>'},s=function(){t.innerHTML=t.oldhtml}}window.Page&&hasClass(t,"page_actions_btn")&&Page.actionsDropdownHide(domPS(t),1),ajax.post("al_groups.php",{act:"enter",gid:e,hash:i,context:o},{onDone:function(t,e){if(n)return n.apply(window,arguments);u.updateActions(t,e),toggle("page_actions",t);var i=geByClass1("_groups_invite_block");i&&slideUp(i,200),nav.reload({noframe:!0,noscroll:!0})},onFail:function(t){if(t){var e=showFastBox({title:getLang("global_error"),bodyStyle:"padding: 20px; line-height: 160%;"},t);return setTimeout(e.hide,3e3),!0}},showProgress:a,hideProgress:s})},confirm:function(t,e,i,o,n){var r=showFastBox({title:getLang("global_warning"),bodyStyle:"padding: 20px; line-height: 160%;"},getLang(t),getLang("group_leave_group"),function(){r.hide(),u.leave(e,i,o,n)},getLang("global_cancel"))},leave:function(t,e,i,o,n){var r,a;if(t=ge(t),hasClass(t,"flat_button"))r=lockButton.pbind(t),a=unlockButton.pbind(t);else{if(t.firstChild&&"progress"==t.firstChild.className)return;r=function(){t.oldhtml=t.innerHTML,t.innerHTML='<span class="progress" style="display: block"></span>'},a=function(){t.innerHTML=t.oldhtml}}window.Page&&hasClass(t,"page_actions_btn")&&Page.actionsDropdownHide(domPS(t),1),ajax.post("al_groups.php",{act:"leave",gid:e,hash:i,context:o},{onDone:function(t,e){if(n)return n();u.updateActions(t,e),toggle("page_actions",t);var i=geByClass1("_groups_invite_block");i&&slideUp(i,200),nav.reload({noframe:!0})},showProgress:r,hideProgress:a})},otherActs:function(t){if(clearTimeout(cur.hideOtherTimer),!t)return!1;t.blur();var e=ge("page_other_acts");return!isVisible(e)&&(e.style.marginLeft="-1px",e.style.marginTop="-21px",show(e),!1)},hideOther:function(t){if(t>0)cur.hideOtherTimer=setTimeout(cur.hideOther,t);else{var e=ge("page_other_acts");-1==t?hide(e):fadeOut(e,200)}},toggleTop:function(t,e,i,o,n){ajax.post("al_groups.php",{act:"a_toggle_top",gid:e,hash:i,nocis:n},{onDone:function(e){t.innerHTML=e},showProgress:window.Page&&Page.actionsDropdownLock.pbind(t),hideProgress:window.Page&&Page.actionsDropdownUnlock.pbind(t)})},toggleStickers:function(t,e,i,o){ajax.post("al_groups.php",{act:"a_toggle_stickers",gid:e,hash:i},{onDone:function(e){t.innerHTML=e},showProgress:window.Page&&Page.actionsDropdownLock.pbind(t),hideProgress:window.Page&&Page.actionsDropdownUnlock.pbind(t)})},toggleFastAccess:function(t,e,i){function o(i){var o=i?getLang("groups_fast_menu_access_invert"):getLang("groups_fast_menu_access");val(t,o),t.setAttribute("data-value",i),"groups_list"==cur.module&&window.GroupsList&&GroupsList.updateGroupField(e,11,i)}var n=1^intval(t.getAttribute("data-value")),r=hasClass(t,"page_actions_item")||hasClass(t,"ui_actions_menu_item"),a=window.GroupsAdminTips&&window.GroupsAdminTips.isShownSection()&&window.GroupsAdminTips.isShownItem(window.GroupsAdminTips.ITEM_LEFT_LINK)?1:0;return ajax.post("al_settings.php",{act:"a_toggle_admin_fast",gid:e,hash:i,update_menu:1,update_admin_tips:a},{onDone:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;r&&o(t),geByTag1("ol",ge("side_bar")).innerHTML=e,window.Notifier&&Notifier.resetCommConnection(),a&&window.GroupsAdminTips&&null!==i&&window.GroupsAdminTips.refreshSection(i)},onFail:function(t){return r||o(0),"too_much_groups"===t&&(showFastBox(getLang("global_error"),getLang("groups_left_menu_full",5)),!0)}.bind(),showProgress:r&&function(){hasClass(t,"page_actions_item")?window.Page&&Page.actionsDropdownLock(t):lockActionsMenuItem(t)},hideProgress:r&&function(){hasClass(t,"page_actions_item")?window.Page&&Page.actionsDropdownUnlock(t):unlockActionsMenuItem(t)}}),r||o(n),!1},showMapBox:function(t,e,i){window.showZeroZoneBox&&showZeroZoneBox("places",function(){events.showMapBox(t,e,i)})||showTabbedBox("/al_places.php",{act:"show_photo_place",place_id:t},{stat:["places.css","map.css","maps.js","ui_controls.css","ui_controls.js"]})},uploadPhotos:function(t,e){if(!((window.XMLHttpRequest||window.XDomainRequest)&&(window.FormData||window.FileReader&&(window.XMLHttpRequest&&XMLHttpRequest.sendAsBinary||window.ArrayBuffer&&window.Uint8Array&&(window.MozBlobBuilder||window.WebKitBlobBuilder||window.BlobBuilder))))||!e)return nav.go(t,e);if(checkEvent(e))return!0;cur.onPhotoInputChange=function(i){return window.filesToUpload=i,nav.go(t,e)};var i=ge("page_upload_photos_input");return i||(i=se('<input id="page_upload_photos_input" class="file page_upload_photos_input" type="file" onchange="cur.onPhotoInputChange(this.files);" multiple="true" accept="image/jpeg,image/png,image/gif" name="photo" />')),i.click(e),!1},getFlattenedCategories:function(t,e){var i=e[0][t],o=e[1];if(void 0===o)return i;for(var n=[],r=0;r<i.length;r++){var a=i[r];a[3]="section",n=n.concat([a]),o[a[0]]&&(a[5]="1",n=n.concat(o[a[0]]))}for(r=0;r<n.length;r++)n[r][3]=n[r][3]?n[r][3]+" sectioned":"sectioned";return n},initCategories:function(t){t.prefix=t.prefix||"group_category_",t.groupClass=t.groupClass||0,cur.groupCategoriesDD=cur.groupCategoriesDD||{},cur.groupCategoriesDD[t.prefix]=cur.groupCategoriesDD[t.prefix]||{};for(var e=t.categories[t.groupClass],i=0;i<2;++i){var o=[],n=cur.groupCategoriesDD[t.prefix],r=n[i];if(0==i)o=e[i][0];else if(i>0){var a=n[i-1].val();""!=a&&e[i]&&(o=this.getFlattenedCategories(a,e.slice(1))||[])}r&&r.container&&r.container.compareDocumentPosition&&r.container.compareDocumentPosition(bodyNode)&Node.DOCUMENT_POSITION_DISCONNECTED&&(r.destroy(),r=null),r?(r.setData(o),r.currenDataItems=o,r.setOptions({defaultItems:o}),r.clear()):r=new Dropdown(ge(t.prefix+i),o,{width:300,dark:!0,multiselect:!1,autocomplete:!0,introText:getLang("groups_start_typing_subject"),zeroPlaceholder:!0,indexkeys:[1,4],includeSectionsOnMatch:!0,preventDuplicates:!0,noResult:"",placeholder:getLang("groups_choose_subject"),onChange:function(i,o){if(0==i&&o){var r=u.getFlattenedCategories(o,e.slice(1))||[];n[i+1].setData(r),n[i+1].currenDataItems=r,n[i+1].setOptions({defaultItems:r});for(var a=i+1;a<2;++a)n[a].clear(),n[a].disable(a>i+1||!r.length),toggle(ge(t.prefix+"wrap_"+a),!(a>i+1||!r.length))}}.pbind(i)}),t.selected[i]&&-1!=t.selected[i]?1==i&&t.selected[2]?r.val(t.selected[2]):r.val(t.selected[i]):i>0&&(-1==t.selected[i-1]||!o.length)&&(r.disable(!0),hide(ge(t.prefix+"wrap_"+i))),cur.groupCategoriesDD[t.prefix][i]=r}},categoriesGetDropdown:function(t,e){return e=e||"group_category_",cur.groupCategoriesDD&&cur.groupCategoriesDD[e]&&cur.groupCategoriesDD[e][t]},getDetailedCategories:function(t,e){for(var i=-1,o=0;o<t.length;o++)if(t[o][0]==e){i=o;break}var n=-1;for(o=i;o>=0;o--)if(Number(t[o][0])<3e3){n=o;break}return-1==i||-1==n?[0,0]:n==i?[t[i][0],0]:[t[n][0],t[i][0]]},categoriesValue:function(t){for(var e=[],i=0;i<2;++i){var o=this.categoriesGetDropdown(i,t);if(0==i)e.push(o?intval(o.val()):0);else{var n=o?intval(o.val()):0;e=e.concat(this.getDetailedCategories(o.dataItems,n))}}return e},deinitCategories:function(t){for(var e=0;e<3;++e){var i=this.categoriesGetDropdown(e,t);i&&i.destroy()}cur.groupCategoriesDD&&delete cur.groupCategoriesDD[t]},saveNewCategories:function(t,e){var i={act:"set_new_categories",gid:t,hash:e};if(u.categoriesGetDropdown(0)){var o=u.categoriesValue();extend(i,{category_0:o[0],category_1:o[1],category_2:o[2]})}var n=ge("group_set_categories_submit");hide("group_set_categories_error_wrap"),hide("group_set_categories_success_wrap"),ajax.post("al_groups.php",i,{onDone:function(t){val("group_set_categories_success",t),show("group_set_categories_success_wrap")},onFail:function(t){return val("group_set_categories_error",t),show("group_set_categories_error_wrap"),!0},showProgress:lockButton.pbind(n),hideProgress:unlockButton.pbind(n)})},hideTopNotice:function(t,e,i){var o="gtop_"+t,n={act:"hide_top_notice",notice:t,group_id:e,hash:i};return ajax.post("al_groups.php",n),slideUp(ge(o),150,re.pbind(o)),!1},goToTopNoticeMoreLink:function(t,e,i,o){return Object(a.d)("groups_top_notice",1,e,"accept"),!(!checkEvent(t)&&!o)||nav.go(i)},processActionButton:function(t,e,i,o,n,r){return!!isButtonLocked(t)||(ajax.post("al_groups.php",{act:"proxy_cta_button",action:e,resource:i,group_id:o,hash:n},{onDone:function(){unlockButton(t)}}),!r||r(t))},setMainAddressId:function(t){Object(o.G)("address_its_main").forEach(function(e){Object(n.c)(e,e===t)})},hightlightTipModule:function(t){var e=ge(t.module);e&&hasClass(e,"module")&&(cur.__narrowBarForceNotFixed=!0,scrollToY(getXY(e)[1]-100,200),cur.hightlighedModule=new l.b(e,t.text,{highlight:!0,width:250,offset:[0,-17],side:"bottom",onBGClick:function(){cur.hightlighedModule.hideTT(),enableBodyScroll(),delete cur.__narrowBarForceNotFixed,updateNarrow(),t.onClose&&t.onClose()}}),cur.hightlighedModule.show(),disableBodyScroll())},hightlightPodcasts:function(t){setTimeout(function(){u.hightlightTipModule({module:"podcast",text:getLang("groups_onboarding_podcast"),onClose:function(){ajax.post("al_index.php",{act:"hide_feature_tt",hash:t,type:"podcasts_onboarding"})}}),setTimeout(function(){cur.hightlighedModule&&window.onboardingBG&&triggerEvent(window.onboardingBG,"click")},1e4)},1500)}};window.Groups=u;try{stManager.done(jsc("web/groups.js"))}catch(t){}}});